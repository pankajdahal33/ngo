


{% extends "base.html" %} {% load static %} {% block content %}

<!-- Add Bootstrap and DataTables CSS -->
<link
  rel="stylesheet"
  href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
/>
<div class="container mt-4">
    <div class="row">
      <div class="col-md-12">
        <h1 class="text-center mb-4">Edit Menu</h1>
        <form method="POST" action="{% url 'update_menu' menu.id %}" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label for="name">Item Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  name="name"
                  value="{{ menu.name }}"  
                  placeholder="Enter Item Name"
                  required
                />
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="price">Price</label>
                <input
                  type="text"
                  class="form-control"
                  id="price"
                  name="price"
                  value="{{ menu.price }}"  
                  placeholder="Enter Price"
                  required
                />
                <small id="priceHelp" class="form-text text-muted">
                  Enter the price of the item.
                </small>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="category">Category</label>
                <select class="form-control" id="category" name="category" required>
                  <option value="">Select Category</option>
                  {% for category in categories %}
                    <option value="{{ category.id }}" {% if category.id == menu.category.id %}selected{% endif %}>
                      {{ category.name }}
                    </option>
                  {% endfor %}
                </select>
              </div>
            </div>
  
            <div class="col-md-4">
              <div class="form-group mt-3">
                <label for="image">Image</label>
                <input
                  type="file"
                  class="form-control"
                  id="image"
                  name="image"
                />
                <!-- Show current image if exists -->
                {% if menu.image %}
                  <div class="mt-2">
                    <img src="{{ menu.image.url }}" alt="{{ menu.name }}" class="img-thumbnail" width="150" />
                    <p>Current image</p>
                  </div>
                {% endif %}
              </div>
            </div>
          </div>
          <button type="submit" class="btn btn-primary btn-block">
            Save Changes
          </button>
        </form>
      </div>
    </div>
  </div>
  {% endblock %}
